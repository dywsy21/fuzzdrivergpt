libfido2:
  language: "c"
  image: "fuzzdrivergpt/libfido2:env"
  apiblocklist: [ "^$" ]
  precode: '#include "cbor.h"\n#include "zconf.h"\n#include "zlib.h"\n#include "fido.h"\n'
  headers: { "/root/workspace/fuzzdrivergpt/install/include" : "**/*" }
  binaries: [ "/root/workspace/fuzzdrivergpt/install/lib/libfido2.a" ]
  compile: [ "/usr/local/bin/clang-15", "-isystem", "/usr/local/lib/clang/15.0.0/include", "-isystem", "/usr/local/include", "-isystem", "/usr/include/x86_64-linux-gnu", "-isystem", "/usr/include", "-fsanitize=address", "-fsanitize=fuzzer","-I/root/workspace/fuzzdrivergpt/install/include", "-DFIDO_FUZZ","-DHAVE_ASPRINTF","-DHAVE_CLOCK_GETTIME","-DHAVE_DEV_URANDOM","-DHAVE_ENDIAN_H","-DHAVE_ERR_H","-DHAVE_GETLINE","-DHAVE_GETOPT","-DHAVE_GETPAGESIZE","-DHAVE_GETRANDOM","-DHAVE_OPENSSLV_H","-DHAVE_SIGNAL_H","-DHAVE_STRSEP","-DHAVE_SYSCONF","-DHAVE_SYS_RANDOM_H","-DHAVE_UNISTD_H","-DTLS=__thread","-DUSE_NFC","-DUSE_PCSC","-D_FIDO_MAJOR=1","-D_FIDO_MINOR=13","-D_FIDO_PATCH=0","-I/src/libfido2/src","-I/work/include","-I/usr/include/PCSC","-D_POSIX_C_SOURCE=200809L","-D_BSD_SOURCE","-D_GNU_SOURCE","-D_DEFAULT_SOURCE","-std=c99","-O1","-fno-omit-frame-pointer","-gline-tables-only","-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION","-fsanitize=address","-fsanitize-address-use-after-scope","-fsanitize=fuzzer-no-link","-g","-g2","-fno-omit-frame-pointer","-fPIE","-Wall","-Wextra","-Werror","-Wshadow","-Wcast-qual","-Wwrite-strings","-Wmissing-prototypes","-Wbad-function-cast","-Wimplicit-fallthrough","-pedantic","-pedantic-errors","-Wshorten-64-to-32","-fstack-protector-all","-Wl,-z,noexecstack","-Wl,-z,relro,-z,now","-rdynamic","-Wl,-rpath,/work/lib:/src/libfido2/build/src"]
  build: "COMPBASE OUTFILE -L/work/lib  -L/usr/lib/gcc/x86_64-linux-gnu/9  -L/usr/local/lib /src/libfido2/build/src/libfido2.so.1.13.0 -lcbor -lcrypto -ludev -lz -lpcsclite -lpthread -lrt -lm -ldl -lgcc -lgcc_s -lc -lgcc -lgcc_s -o OUTEXE"
  run: "OUTEXE -detect_leaks=0 -max_total_time=60 -timeout=30 -artifact_prefix=ARTIFACTDIR/ -close_fd_mask=3 SEEDDIR"
  known_drivers: ['/src/libfido2/fuzz/fuzz_mgmt.c', '/src/libfido2/fuzz/fuzz_cred.c', '/src/libfido2/fuzz/fuzz_assert.c', '/src/libfido2/fuzz/fuzz_pcsc.c', '/src/libfido2/fuzz/fuzz_credman.c', '/src/libfido2/fuzz/fuzz_hid.c', '/src/libfido2/fuzz/fuzz_bio.c', '/src/libfido2/fuzz/fuzz_largeblob.c', '/src/libfido2/fuzz/fuzz_netlink.c']

#
#/usr/local/bin/clang -DFIDO_FUZZ -DHAVE_ASPRINTF -DHAVE_CLOCK_GETTIME -DHAVE_DEV_URAN DOM -DHAVE_ENDIAN_H -DHAVE_ERR_H -DHAVE_GETLINE -DHAVE_GETOPT -DHAVE_GETPAGESIZE -DHAVE_GETRANDOM -DHAVE_OPENSSLV_H -DHAVE_SIGNAL_H -DHAVE_STRSEP -DHAVE_SYSCONF -DHAVE_SYS_RANDOM_H -DHAVE_UNISTD_H -DTLS=__thread -DUSE_NFC -DUSE_PCSC -D_FIDO_MAJOR=1 -D_FIDO_MINOR=13 -D_FIDO_PATCH=0 -I/src/libfido2/src -I/work/include -I/usr/include/PCSC -D_POSIX_C_SOURCE=200809L -D_BSD_SOURCE -D_GNU_SOURCE -D_DEFAULT_SOURCE -std=c99 -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -g -g2 -fno-omit-frame-pointer -fPIE -Wall -Wextra -Werror -Wshadow -Wcast-qual -Wwrite-strings -Wmissing-prototypes -Wbad-function-cast -Wimplicit-fallthrough -pedantic -pedantic-errors -Wshorten-64-to-32 -fstack-protector-all -MD -MT fuzz/CMakeFiles/fuzz_mgmt.dir/fuzz_mgmt.c.o -MF CMakeFiles/fuzz_mgmt.dir/fuzz_mgmt.c.o.d -o CMakeFiles/fuzz_mgmt.dir/fuzz_mgmt.c.o -c /src/libfido2/fuzz/fuzz_mgmt.c
#/usr/local/bin/clang++ -O1 -fno-omit-frame-pointer -gline-tables-only -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++ -g  -Wl,-z,noexecstack -Wl,-z,relro,-z,now -rdynamic -fsanitize=fuzzer CMakeFiles/fuzz_mgmt.dir/fuzz_mgmt.c.o CMakeFiles/fuzz_mgmt.dir/libfuzzer.c.o CMakeFiles/fuzz_mgmt.dir/mutator_aux.c.o "CMakeFiles/fuzz_mgmt.dir/__/openbsd-compat/strlcpy.c.o" "CMakeFiles/fuzz_mgmt.dir/__/openbsd-compat/strlcat.c.o" -o fuzz_mgmt   -L/work/lib  -L/usr/lib/gcc/x86_64-linux-gnu/9  -L/usr/local/lib  -Wl,-rpath,/work/lib:/src/libfido2/build/src ../src/libfido2.so.1.13.0 -lcbor -lcrypto -ludev -lz -lpcsclite -lpthread -lrt -lm -ldl -lgcc -lgcc_s -lc -lgcc -lgcc_s